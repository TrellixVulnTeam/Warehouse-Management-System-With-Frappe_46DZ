[DEBUG] 2019-07-02 05:45:09,548 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:45:09,602 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:46:09,734 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:46:09,784 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:47:09,931 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:47:09,987 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:48:10,222 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:48:10,443 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:49:10,585 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:49:10,659 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:50:10,831 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:50:10,890 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:51:11,031 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:51:11,114 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:52:11,343 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:52:11,597 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:53:11,764 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:53:11,824 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:54:11,983 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:54:12,049 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:55:12,276 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:55:12,333 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:56:12,605 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:56:12,781 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:57:12,950 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:57:13,003 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:58:13,189 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:58:13,238 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 05:59:13,379 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 05:59:13,437 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:00:13,818 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:00:14,149 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:01:14,323 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:01:14,393 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:02:14,632 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:02:14,701 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:03:14,862 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:03:15,085 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:04:15,318 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:04:15,502 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:05:15,649 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:05:15,704 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:06:15,840 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:06:15,886 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:07:16,058 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:07:16,126 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:08:16,343 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:08:16,684 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:09:16,824 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:09:16,882 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:10:17,057 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:10:17,315 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:11:17,471 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:11:17,665 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:12:17,934 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:12:18,183 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:13:18,366 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:13:18,544 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:14:18,699 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:14:18,758 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[ERROR] 2019-07-02 06:15:44,981 | /home/ilhmndn/frappe-training/apps/frappe/frappe/app.py:
Site: mdb.training.local
Form Dict: {
 "action": "Approve",
 "cmd": "frappe.model.workflow.apply_workflow",
 "doc": "{\"name\":\"RPB-031\",\"owner\":\"Administrator\",\"creation\":\"2019-07-02 06:15:39.401742\",\"modified\":\"2019-07-02 06:15:42.983941\",\"modified_by\":\"Administrator\",\"idx\":0,\"docstatus\":0,\"workflow_state_warehouse\":\"On Process\",\"naming_series\":\"RPB-.###\",\"id_supplier\":\"SUPPLIER-003\",\"nama_supplier\":\"Ihsan\",\"tanggal_request\":\"2019-07-02\",\"total_harga\":735000,\"doctype\":\"Request Pesanan Barang\",\"request_line_pesanan\":[{\"name\":\"a41a2afe76\",\"owner\":\"Administrator\",\"creation\":\"2019-07-02 06:15:39.401742\",\"modified\":\"2019-07-02 06:15:42.983941\",\"modified_by\":\"Administrator\",\"parent\":\"RPB-031\",\"parentfield\":\"request_line_pesanan\",\"parenttype\":\"Request Pesanan Barang\",\"idx\":1,\"docstatus\":0,\"kode_barang\":\"BARANG-008\",\"nama_barang\":\"Bata Ringan Citicon\",\"jenis_barang\":\"Bata Ringan\",\"qty\":\"1\",\"satuan\":\"M3\",\"harga\":\"735000\",\"doctype\":\"Request Line Pesanan\"}]}"
}
Request Error
Traceback (most recent call last):
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/app.py", line 61, in application
    response = frappe.handler.handle()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 21, in handle
    data = execute_cmd(cmd)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 56, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/__init__.py", line 1019, in call
    return fn(*args, **newargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/workflow.py", line 92, in apply_workflow
    doc.submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 848, in submit
    self._submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 837, in _submit
    self.save()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 260, in save
    return self._save(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 313, in _save
    self.run_post_save_methods()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 908, in run_post_save_methods
    self.run_method("on_submit")
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 772, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1048, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1031, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 766, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 13, in on_submit
    self.on_approve()
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 21, in on_approve
    pesanan.total_harga = total_harga
NameError: name 'total_harga' is not defined
[ERROR] 2019-07-02 06:15:45,314 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/error.py:
Could not take error snapshot: startswith first arg must be str or a tuple of str, not bytes
Traceback (most recent call last):
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/app.py", line 61, in application
    response = frappe.handler.handle()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 21, in handle
    data = execute_cmd(cmd)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 56, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/__init__.py", line 1019, in call
    return fn(*args, **newargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/workflow.py", line 92, in apply_workflow
    doc.submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 848, in submit
    self._submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 837, in _submit
    self.save()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 260, in save
    return self._save(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 313, in _save
    self.run_post_save_methods()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 908, in run_post_save_methods
    self.run_method("on_submit")
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 772, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1048, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1031, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 766, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 13, in on_submit
    self.on_approve()
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 21, in on_approve
    pesanan.total_harga = total_harga
NameError: name 'total_harga' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/utils/error.py", line 36, in make_error_snapshot
    snapshot = get_snapshot(exception)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/utils/error.py", line 131, in get_snapshot
    if type(value)==str and value.startswith(b"u'"):
TypeError: startswith first arg must be str or a tuple of str, not bytes
[DEBUG] 2019-07-02 06:15:53,328 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:15:53,533 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[ERROR] 2019-07-02 06:16:22,590 | /home/ilhmndn/frappe-training/apps/frappe/frappe/app.py:
Site: mdb.training.local
Form Dict: {
 "action": "Approve",
 "cmd": "frappe.model.workflow.apply_workflow",
 "doc": "{\"name\":\"RPB-031\",\"owner\":\"Administrator\",\"creation\":\"2019-07-02 06:15:39.401742\",\"modified\":\"2019-07-02 06:15:42.983941\",\"modified_by\":\"Administrator\",\"idx\":0,\"docstatus\":0,\"workflow_state_warehouse\":\"On Process\",\"naming_series\":\"RPB-.###\",\"id_supplier\":\"SUPPLIER-003\",\"nama_supplier\":\"Ihsan\",\"tanggal_request\":\"2019-07-02\",\"total_harga\":735000,\"doctype\":\"Request Pesanan Barang\",\"request_line_pesanan\":[{\"name\":\"a41a2afe76\",\"owner\":\"Administrator\",\"creation\":\"2019-07-02 06:15:39.401742\",\"modified\":\"2019-07-02 06:15:42.983941\",\"modified_by\":\"Administrator\",\"parent\":\"RPB-031\",\"parentfield\":\"request_line_pesanan\",\"parenttype\":\"Request Pesanan Barang\",\"idx\":1,\"docstatus\":0,\"kode_barang\":\"BARANG-008\",\"nama_barang\":\"Bata Ringan Citicon\",\"jenis_barang\":\"Bata Ringan\",\"qty\":\"1\",\"satuan\":\"M3\",\"harga\":\"735000\",\"doctype\":\"Request Line Pesanan\"}]}"
}
Request Error
Traceback (most recent call last):
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/app.py", line 61, in application
    response = frappe.handler.handle()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 21, in handle
    data = execute_cmd(cmd)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 56, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/__init__.py", line 1019, in call
    return fn(*args, **newargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/workflow.py", line 92, in apply_workflow
    doc.submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 848, in submit
    self._submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 837, in _submit
    self.save()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 260, in save
    return self._save(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 313, in _save
    self.run_post_save_methods()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 908, in run_post_save_methods
    self.run_method("on_submit")
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 772, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1048, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1031, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 766, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 13, in on_submit
    self.on_approve()
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 21, in on_approve
    pesanan.total_harga = total_harga
NameError: name 'total_harga' is not defined
[ERROR] 2019-07-02 06:16:22,606 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/error.py:
Could not take error snapshot: startswith first arg must be str or a tuple of str, not bytes
Traceback (most recent call last):
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/app.py", line 61, in application
    response = frappe.handler.handle()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 21, in handle
    data = execute_cmd(cmd)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/handler.py", line 56, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/__init__.py", line 1019, in call
    return fn(*args, **newargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/workflow.py", line 92, in apply_workflow
    doc.submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 848, in submit
    self._submit()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 837, in _submit
    self.save()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 260, in save
    return self._save(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 313, in _save
    self.run_post_save_methods()
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 908, in run_post_save_methods
    self.run_method("on_submit")
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 772, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1048, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 1031, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/model/document.py", line 766, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 13, in on_submit
    self.on_approve()
  File "/home/ilhmndn/frappe-training/apps/warehouse/warehouse/warehouse_management_system/doctype/request_pesanan_barang/request_pesanan_barang.py", line 21, in on_approve
    pesanan.total_harga = total_harga
NameError: name 'total_harga' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/utils/error.py", line 36, in make_error_snapshot
    snapshot = get_snapshot(exception)
  File "/home/ilhmndn/frappe-training/apps/frappe/frappe/utils/error.py", line 131, in get_snapshot
    if type(value)==str and value.startswith(b"u'"):
TypeError: startswith first arg must be str or a tuple of str, not bytes
[DEBUG] 2019-07-02 06:16:53,777 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:16:53,950 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:18:44,319 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:18:44,535 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:19:44,740 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:19:45,092 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:20:45,264 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:20:45,532 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
[DEBUG] 2019-07-02 06:21:45,708 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: mdb.training.local
Queued events for site mdb.training.local
[DEBUG] 2019-07-02 06:21:45,966 | /home/ilhmndn/frappe-training/apps/frappe/frappe/utils/scheduler.py:
Site: warehouse
Queued events for site warehouse
